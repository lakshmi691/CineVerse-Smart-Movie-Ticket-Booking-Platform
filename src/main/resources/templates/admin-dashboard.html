<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments :: head}"></head>

<body>
    <div th:replace="~{fragments :: navbar}"></div>

    <div class="container" style="margin-top:40px;">
        <h1>Admin Dashboard</h1>
        <!-- Removed text as requested -->

        <!-- Statistics Cards -->
        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:20px; margin:30px 0;">
            <div
                style="background:linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding:30px; border-radius:15px;">
                <h3 style="margin:0; font-size:2rem;"
                    th:text="'₹' + ${#numbers.formatDecimal(totalRevenue, 1, 'COMMA', 2, 'POINT')}">₹0.00</h3>
                <p style="margin:10px 0 0; opacity:0.9;">Total Revenue</p>
            </div>
            <div
                style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding:30px; border-radius:15px;">
                <h3 style="margin:0; font-size:2rem;" th:text="${totalUsers}">0</h3>
                <p style="margin:10px 0 0; opacity:0.9;">Total Users</p>
            </div>
            <div
                style="background:linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding:30px; border-radius:15px;">
                <h3 style="margin:0; font-size:2rem;" th:text="${#numbers.formatInteger(totalBookings, 1, 'COMMA')}">0
                </h3>
                <p style="margin:10px 0 0; opacity:0.9;">Total Bookings</p>
            </div>
            <div
                style="background:linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); padding:30px; border-radius:15px;">
                <h3 style="margin:0; font-size:2rem;" th:text="${totalMovies}">0</h3>
                <p style="margin:10px 0 0; opacity:0.9;">Total Movies</p>
            </div>
        </div>

        <!-- Quick Actions -->
        <div style="margin:40px 0;">
            <h2>Quick Actions</h2>
            <div style="display:flex; gap:15px; flex-wrap:wrap; margin:20px 0;">
                <a href="/admin/users" class="btn-primary">Manage Users</a>
                <a href="/admin/theaters" class="btn-primary">Manage Theaters</a>
                <a href="/admin/reviews" class="btn-primary">Moderate Reviews</a>
                <a href="/admin/support" class="btn-primary">Support Inbox</a>
                <a href="/" class="btn-primary" style="background:#666;">Back to Site</a>
            </div>
        </div>

        <!-- Recent Bookings -->
        <div style="margin:40px 0;">
            <h2>Recent Bookings</h2>
            <table style="width:100%; border-collapse:collapse; margin:20px 0;">
                <thead>
                    <tr style="background:var(--card-bg); text-align:left;">
                        <th style="padding:15px;">ID</th>
                        <th style="padding:15px;">Customer</th>
                        <th style="padding:15px;">Movie</th>
                        <th style="padding:15px;">Seats</th>
                        <th style="padding:15px;">Total</th>
                        <th style="padding:15px;">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="booking : ${recentBookings}" style="border-bottom:1px solid #333;">
                        <td style="padding:15px;" th:text="${booking.id}">1</td>
                        <td style="padding:15px;" th:text="${booking.customerName}">John Doe</td>
                        <td style="padding:15px;" th:text="${booking.showtime.movie.title}">Movie</td>
                        <td style="padding:15px;" th:text="${booking.seatNumbers}">A1, A2</td>
                        <td style="padding:15px;" th:text="'₹' + ${booking.totalPrice}">₹500</td>
                        <td style="padding:15px;">
                            <span th:text="${booking.status}"
                                th:style="${booking.status == 'BOOKED' ? 'color:#43e97b;' : 'color:#f5576c;'}">
                                BOOKED
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div th:replace="~{fragments :: footer}"></div>
</body>

</html>